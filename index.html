<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Unique 3D NFT Carousel</title>
    <style>
        body {
            margin: 0;
            background: radial-gradient(circle at center, #0a0a1f, #1e2a3c, #0a0a1f);
            font-family: 'Inter', sans-serif;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            position: relative;
            -webkit-overflow-scrolling: touch;
            touch-action: pan-y pinch-zoom;
        }

        .carousel {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            perspective: 2500px;
            transform-style: preserve-3d;
        }

        .nft-card {
            position: absolute;
            width: 260px;
            height: 390px;
            opacity: 0;
            transform: translate3d(0, 80px, -100px) scale(0.8) rotate(2deg);
            transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.8), 0 0 10px rgba(0, 255, 255, 0.4);
            border-radius: 14px;
            border: 2px solid #00f7ff;
            overflow: hidden;
            will-change: transform, opacity;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(0, 255, 255, 0.05));
            cursor: pointer;
            -webkit-tap-highlight-color: transparent;
        }

        .nft-card.active {
            opacity: 1;
            transform: translate3d(0, 0, 0) scale(1) rotate(0);
            z-index: 30;
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.9), 0 0 15px rgba(0, 255, 255, 0.6);
            border: 3px solid #00f7ff;
        }

        .nft-card img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease-in-out;
            pointer-events: none;
        }

        .nft-card:hover img, .nft-card:active img {
            transform: scale(1.1);
        }

        /* Background cards in 3D orbit */
        .nft-card.bg {
            z-index: 10;
        }

        /* Media query for smaller screens */
        @media (max-width: 600px) {
            .nft-card {
                width: 220px;
                height: 330px;
            }
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="carousel">
        <!-- NFT cards -->
        <div class="nft-card active"><img src="nft1.png" alt="NFT 1"></div>
        <div class="nft-card bg"><img src="nft2.png" alt="NFT 2"></div>
        <div class="nft-card bg"><img src="nft3.png" alt="NFT 3"></div>
        <div class="nft-card bg"><img src="nft4.png" alt="NFT 4"></div>
        <div class="nft-card bg"><img src="nft5.png" alt="NFT 5"></div>
        <div class="nft-card bg"><img src="nft6.png" alt="NFT 6"></div>
        <div class="nft-card bg"><img src="nft7.png" alt="NFT 7"></div>
        <div class="nft-card bg"><img src="nft8.png" alt="NFT 8"></div>
        <div class="nft-card bg"><img src="nft9.png" alt="NFT 9"></div>
    </div>

    <script>
        const carousel = document.querySelector('.carousel');
        const nftCards = document.querySelectorAll('.nft-card');
        const nfts = [
            'nft1.png', 'nft2.png', 'nft3.png', 'nft4.png', 'nft5.png',
            'nft6.png', 'nft7.png', 'nft8.png', 'nft9.png'
        ];
        let currentIndex = 0;
        let isAnimating = false;

        // Preload images
        nfts.forEach(src => {
            const img = new Image();
            img.src = src;
        });

        // Initialize carousel positions
        function updateCarousel() {
            const angleStep = 360 / nfts.length;
            nftCards.forEach((card, i) => {
                if (i === currentIndex) {
                    card.classList.add('active');
                    card.style.transform = 'translate3d(0, 0, 0) scale(1) rotate(0)';
                    card.style.opacity = '1';
                } else {
                    card.classList.remove('active');
                    const angle = (i - currentIndex) * angleStep;
                    const distance = 300; // Orbit radius
                    const x = Math.sin((angle * Math.PI) / 180) * distance;
                    const z = Math.cos((angle * Math.PI) / 180) * distance;
                    card.style.transform = `translate3d(${x}px, 0, ${z - 200}px) scale(0.7) rotate(2deg)`;
                    card.style.opacity = '0.2';
                }
                card.querySelector('img').src = nfts[i];
                card.querySelector('img').alt = `NFT ${i + 1}`;
            });
        }

        // Rotate carousel
        function rotateCarousel(direction) {
            if (isAnimating) return;
            isAnimating = true;

            // Update index
            if (direction === 'right') {
                currentIndex = (currentIndex + 1) % nfts.length;
            } else {
                currentIndex = (currentIndex - 1 + nfts.length) % nfts.length;
            }

            // Animate transition
            nftCards.forEach((card, i) => {
                if (i === currentIndex) {
                    card.classList.add('active');
                    card.style.transform = 'translate3d(0, -50px, -100px) scale(0.8) rotate(0)';
                    card.style.opacity = '0';
                } else {
                    card.classList.remove('active');
                }
            });

            requestAnimationFrame(() => {
                setTimeout(() => {
                    updateCarousel();
                    isAnimating = false;
                }, 300); // Match transition duration
            });
        }

        // Handle tap/click
        carousel.addEventListener('click', (e) => {
            const rect = carousel.getBoundingClientRect();
            const clickX = e.clientX - rect.left;
            const halfWidth = rect.width / 2;
            const direction = clickX > halfWidth ? 'right' : 'left';
            rotateCarousel(direction);
        });

        // Handle swipe
        let touchStartX = 0;
        carousel.addEventListener('touchstart', (e) => {
            touchStartX = e.touches[0].clientX;
            e.preventDefault();
        });

        carousel.addEventListener('touchend', (e) => {
            const touchEndX = e.changedTouches[0].clientX;
            const deltaX = touchEndX - touchStartX;
            if (Math.abs(deltaX) > 30) {
                const direction = deltaX < 0 ? 'right' : 'left';
                rotateCarousel(direction);
            }
        });

        // Initialize carousel
        updateCarousel();
    </script>
</body>
</html>
